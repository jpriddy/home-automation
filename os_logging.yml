---
- name: Configure logging
  hosts: all
  become: true
  tasks:
  
    - name: Use system role to configure journald
      ansible.builtin.include_role:
        name: redhat.rhel_system_roles.journald
      vars:
        journald_persistent: true
        journald_max_disk_size: 256
        journald_per_user: true
        journald_sync_interval: 1

  roles:
    - role: community.general.rsyslog
      remote_host: 192.168.1.30
      remote_port: 514
      log_level: info